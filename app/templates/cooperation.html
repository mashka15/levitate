{% extends 'base.html' %}

{% block content %}
<!-- Hero –±–ª–æ–∫ -->
<div class="cooperation-hero">
    <div class="hero-overlay">
        <h1>–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ</h1>
        <p>–•–æ—Ç–∏—Ç–µ —Å—Ç–∞—Ç—å –Ω–∞—à–∏–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º? –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É, –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.</p>
    </div>
</div>

<!-- –°–µ–∫—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ -->
<div class="cooperation-section">
    <!-- –§–æ—Ä–º–∞ —Å–ª–µ–≤–∞ -->
    <div class="cooperation-form-wrapper">
        <form action="{{ url_for('main.cooperation') }}" method="post" class="cooperation-form">
            <h2>–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</h2>
            <input type="text" id="name" name="name" placeholder="–í–∞—à–µ –∏–º—è" required class="input-field">
            <input type="email" id="email" name="email" placeholder="–í–∞—à email" required class="input-field">
            <textarea id="message" name="message" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ" required class="input-field"></textarea>
            <button type="submit" class="submit-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
    </div>

    <!-- –°–ª–æ–≥–∞–Ω—ã —Å–ø—Ä–∞–≤–∞ -->
    <div class="cooperation-info">
        <h2>–í—ã ‚Äî –ø—Ä–∞–∫—Ç–∏–∫—É—é—â–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç?</h2>
        <div class="specialties">
            <div class="specialty"><span class="icon">üíÜ‚Äç‚ôÄÔ∏è</span>–ö–û–°–ú–ï–¢–û–õ–û–ì</div>
            <div class="specialty"><span class="icon">ü©∫</span>–î–ï–†–ú–ê–¢–û–õ–û–ì</div>
            <div class="specialty"><span class="icon">üë©‚Äç‚öïÔ∏è</span>–ì–ò–ù–ï–ö–û–õ–û–ì</div>
            <div class="specialty"><span class="icon">ü©π</span>–¢–ï–†–ê–ü–ï–í–¢</div>
        </div>
        <p class="cooperation-slogan">–°—Ç–∞–Ω—å—Ç–µ –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–º Levitate –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –Ω–∞ —É–º–Ω–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ!</p>
    </div>
</div>

<div id="flash-messages-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999;">
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="flash-message flash-{{ category }}">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
</div>


<style>
/* Hero */
.cooperation-hero {
    position: relative;
    background-image: url("{{ url_for('static', filename='images/f9cfb477-a990-445c-95b2-1c4db3195c6f.png') }}");
    background-size: cover;
    background-position: center;
    height: 280px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.hero-overlay {
    background-color: rgba(249, 247, 244, 0.8);
    padding: 40px 25px;
    border-radius: 16px;
    max-width: 600px;
    text-align: center;
    color: rgb(0, 51, 102, 0.9);
    animation: fadeIn 1s ease forwards;
}
.hero-overlay h1 { font-size: 2.2rem; margin-bottom: 12px; }
.hero-overlay p { font-size: 1.1rem; }

/* Cooperation Section */
.cooperation-section {
    display: flex;
    gap: 40px;
    max-width: 1100px;
    margin: 50px auto 80px;
    flex-wrap: wrap;
    justify-content: center;
}

/* –§–æ—Ä–º–∞ —Å–ª–µ–≤–∞ ‚Äî —Å–∏–Ω–∏–π —Å—Ç–∏–ª—å */
.cooperation-form-wrapper { flex: 1 1 320px; max-width: 380px; }
.cooperation-form {
    background: linear-gradient(135deg, #003366, #00509e);
    padding: 30px 45px;
    border-radius: 16px;
    box-shadow: 0 12px 30px rgba(0,0,0,0.25);
    display: flex;
    flex-direction: column;
    gap: 12px;
    animation: fadeInUp 1s ease forwards;
    color: #fff;
}
.cooperation-form h2 {
    margin-bottom: 12px;
    color: #fff;
    font-size: 1.5rem;
    text-align: center;
}
.input-field {
    padding: 10px 12px;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.6);
    font-size: 0.95rem;
    width: 100%;
    background: rgba(255,255,255,0.1);
    color: #fff;
}
.input-field::placeholder {
    color: rgba(255,255,255,0.7);
}
.input-field:focus {
    border-color: #fff;
    box-shadow: 0 0 6px rgba(255,255,255,0.4);
    outline: none;
}
.submit-button {
    background: #fff;
    color: #003366;
    padding: 12px;
    border: none;
    border-radius: 12px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}
.submit-button:hover {
    background: rgba(255,255,255,0.9);
    transform: translateY(-2px);
}

/* Info block —Å–ø—Ä–∞–≤–∞ */
.cooperation-info {
    flex: 1 1 300px;
    max-width: 500px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    gap: 18px;
}
.cooperation-info h2 { font-size: 1.5rem; color: #003366; margin-bottom: 10px; }
.specialties { display: flex; flex-direction: column; gap: 10px; }
.specialty {
    background: linear-gradient(135deg, #003366, #00509e);
    color: #fff;
    padding: 12px 15px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: transform 0.25s ease;
}
.specialty:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }
.cooperation-slogan {
    font-size: 1.2rem;
    font-weight: 700;
    color: #003366;
}

/* Animations */
@keyframes fadeIn {0% {opacity: 0; transform: translateY(-15px);} 100% {opacity: 1; transform: translateY(0);}}
@keyframes fadeInUp {0% {opacity: 0; transform: translateY(15px);} 100% {opacity: 1; transform: translateY(0);}}

/* Adaptive */
@media (max-width: 900px) {
    .cooperation-section {flex-direction: column; gap: 30px;}
}


.flash-message {
  background-color: #4BB543; /* –∑–µ–ª–µ–Ω—ã–π –¥–ª—è success */
  color: white;
  padding: 15px 25px;
  margin-bottom: 10px;
  border-radius: 8px;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
  opacity: 1;
  transition: opacity 0.5s ease-out;
  min-width: 250px;
}

.flash-error {
  background-color: #f44336; /* –∫—Ä–∞—Å–Ω—ã–π –¥–ª—è –æ—à–∏–±–æ–∫ */
}

.flash-warning {
  background-color: #ff9800; /* –æ—Ä–∞–Ω–∂–µ–≤—ã–π –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π */
}

.flash-info {
  background-color: #2196F3; /* —Å–∏–Ω–∏–π –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ */
}


</style>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const container = document.getElementById('flash-messages-container');
    if (container) {
      setTimeout(() => {
        const messages = container.querySelectorAll('.flash-message');
        messages.forEach(msg => {
          msg.style.opacity = '0';
          setTimeout(() => {
            msg.remove();
          }, 500); // —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç
        });
      }, 3000); // —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    }
  });
</script>


<script>
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã –≤ —Ö–µ–¥–µ—Ä–µ
    function updateCartCount(count) {
        const cartCountElement = document.querySelector('.cart-count');
        if (cartCountElement) {
            // –Ø–≤–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º count –≤ —á–∏—Å–ª–æ, –µ—Å–ª–∏ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ
            let numericCount = Number(count);
            if (isNaN(numericCount) || numericCount < 0) {
                numericCount = 0;
            }
            cartCountElement.textContent = numericCount;
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        const cartCountElement = document.querySelector('.cart-count');

        let count = 0;
        if (cartCountElement && cartCountElement.dataset.count !== undefined) {
            count = parseInt(cartCountElement.dataset.count);
        }
        updateCartCount(count);
    });

    // –ö–Ω–æ–ø–∫–∏ —É–º–µ–Ω—å—à–µ–Ω–∏—è/—É–≤–µ–ª–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞
    document.querySelectorAll('.decrease-btn').forEach(button => {
        button.addEventListener('click', () => {
            const quantityInput = button.closest('.quantity-selector').querySelector('.quantity-input');
            let quantity = parseInt(quantityInput.value);
            if (quantity > 1) {
                quantityInput.value = quantity - 1;
            }
        });
    });

    document.querySelectorAll('.increase-btn').forEach(button => {
        button.addEventListener('click', () => {
            const quantityInput = button.closest('.quantity-selector').querySelector('.quantity-input');
            let quantity = parseInt(quantityInput.value);
            quantityInput.value = quantity + 1;
        });
    });
</script>


{% endblock %}
